# ============================================
# FleetMaster Pro - Variables d'environnement
# ============================================
# Copier ce fichier en .env.local et remplir les valeurs

# --- APP ---
NEXT_PUBLIC_APP_URL=http://localhost:3000

# --- SUPABASE ---
# Récupérer sur https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://votre-projet.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=votre-cle-anon
SUPABASE_SERVICE_ROLE_KEY=votre-cle-service-role

# --- MAPBOX (Cartographie) ---
# Récupérer sur https://account.mapbox.com/access-tokens
NEXT_PUBLIC_MAPBOX_TOKEN=pk.votre-token-mapbox

# --- STRIPE (Paiements) ---
# Récupérer sur https://dashboard.stripe.com/test/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# --- EMAIL (RESEND) ---
# 1. Créer un compte sur https://resend.com
# 2. Générer une API key
RESEND_API_KEY=re_...
RESEND_FROM_EMAIL=onboarding@resend.dev

# --- CONFIGURATION NOTIFICATIONS ---
MAX_EMAILS_PER_DAY=10
NOTIFICATIONS_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true
PUSH_NOTIFICATIONS_ENABLED=true

# --- VAPID (Push Notifications Web) ---
# Générer une paire de clés : node -e "require('web-push').generateVAPIDKeys()|console.log(JSON.stringify(r,null,2))"
# La clé PUBLIC doit être préfixée NEXT_PUBLIC_ pour être accessible côté client
NEXT_PUBLIC_VAPID_PUBLIC_KEY=votre-cle-vapid-publique-base64url
VAPID_PRIVATE_KEY=votre-cle-vapid-privee-base64url
VAPID_SUBJECT=mailto:contact@fleet-master.fr

# --- SÉCURITÉ SUPERADMIN ---
# Email du SuperAdmin (protection des routes /superadmin)
SUPERADMIN_EMAIL=contact@fleet-master.fr

# Secret pour créer le SuperAdmin via l'API /api/admin/create-superadmin
# Générer une valeur forte: openssl rand -hex 32
SUPERADMIN_SETUP_SECRET=votre-secret-tres-fort-32-caracteres-min

# --- SENTRY (Error Tracking & Performance) ---
# 1. Créer un compte sur https://sentry.io
# 2. Créer un projet Next.js
# 3. Récupérer le DSN dans Settings > Projects > Client Keys
NEXT_PUBLIC_SENTRY_DSN=https://xxx@oyyy.ingest.sentry.io/zzz
SENTRY_DSN=https://xxx@oyyy.ingest.sentry.io/zzz
# Pour l'upload des source maps (CI/CD)
SENTRY_ORG=fleetmaster
SENTRY_PROJECT=fleetmaster-pro
SENTRY_AUTH_TOKEN=sntrys_...

# --- UPSTASH REDIS (Rate Limiting distribué) ---
# 1. Créer un compte sur https://console.upstash.com
# 2. Créer une base Redis (région eu-west-1 recommandée)
# 3. Copier les credentials depuis le dashboard
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=votre-token-upstash

# --- POSTHOG (Analytics) ---
# 1. Créer un compte sur https://eu.posthog.com
# 2. Créer un projet Web
# 3. Copier la Project API Key
NEXT_PUBLIC_POSTHOG_KEY=phc_...
# Utiliser l'instance EU pour la conformité RGPD
NEXT_PUBLIC_POSTHOG_HOST=https://eu.posthog.com
